// room script file

function hTrashcan_Interact()
{
  if (player.HasInventory(iReciept)) {
    player.Say("TODO: already found reciept interact");    // TODO (already found reciept)

  } else {
    player.Say("Ugh. It stinks, but there's a receipt on top.");
    player.Say("He bought a bunch of food, and what's this? Massage oil? I've never received any massages from him.");
    player.Say("Who is he rubbing?!");
    player.AddInventory(iReciept);
    Reciept.Enable(); 
    Clues.Found(eClueReciept);
  }
}

function hTrashcan_Look()
{
  if (player.HasInventory(iReciept)) {
    player.Say("TODO: already found reciept say");  // TODO (already found reciept)

  } else {
    player.Say("That's his garbage can. Maybe there's something incriminating in there.");
  }
}

//function CalculateLookReaction( );// TODO

function hMainWindow_Interact()
{
  player.Say("I can't open the window.");
}

function hMainWindow_Look()
{
  if (Reciept.HasSelection() == true) { // Some items selected in the list
    
    if (Reciept.ItemsSelectedForClue(eClueChampagne) == false) {
      player.Say("That doesn’t make sense.");
    } else { // The combination is correct
      if (Clues.IsAlreadyFound(eClueChampagne)) { // Found clue in the past
        player.Say("I already know that this is a champagne bottle in the window.");
      } else {
        player.Say("Is that a champagne bottle?");
        player.Say("That son of a bitch must be planning to wine and dine some young tart.");
        player.Say(" That bastard is going down!");
        Clues.Found(eClueChampagne);
      }
    }    
  } else { // Nothing selected in the item list
    
    if (Clues.IsAlreadyFound(eClueChampagne)) { // Found clue
      player.Say("That is a champagne bottle in the window.");
    } else { // Not found clue
      player.Say("I can’t make out what that is.");
    }
  }
}

function hKitchenWindow_Interact()
{
  player.Say("I can't open the window.");
  player.Say("There's a smell coming out of the kitchen, but he doesn't cook.");
  player.Say("He must have some tramp in there cooking for him.");
}

function hKitchenWindow_Look()
{
  player.Say("That's the kitchen window. The blinds are down.");
}

function hDoor_Interact()
{
  player.Say("I am not ready to confront him yet."); // TODO: Refine
  player.Say("I want to figure out what is going on first."); // TODO: Refine
}

function hDoor_Look()
{
  player.Say("I can hear some cheesy love song playing.");
  player.Say("Who's he listening to that crap with?");
}
